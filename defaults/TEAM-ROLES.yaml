# TEAM-ROLES.yaml — Agent role configuration
#
# This is the default starter config. Customize it for your team:
#   cp defaults/TEAM-ROLES.yaml ~/.reflectt/TEAM-ROLES.yaml
#   nano ~/.reflectt/TEAM-ROLES.yaml
#
# reflectt-node hot-reloads changes — no restart needed.
# See docs/TEAM-ROLES.md for full reference.

agents:
  - name: agent-1
    role: builder
    description: General-purpose builder agent. Rename to match your team.
    affinityTags:
      - backend
      - api
      - integration
      - bug
      - test
      - typescript
    wipCap: 2

  - name: agent-2
    role: designer
    description: UI/UX agent. Rename to match your team.
    affinityTags:
      - design
      - ui
      - css
      - visual
      - frontend
    routingMode: opt-in
    alwaysRoute:
      - design
      - ui
      - ux
      - css
      - visual
    neverRoute:
      - ops
      - infra
      - ci
      - deploy
      - compliance
      - backend
      - api
      - docker
      - monitoring
      - database
    wipCap: 1

  - name: agent-3
    role: ops
    description: Operations/infra agent. Rename to match your team.
    affinityTags:
      - ci
      - deploy
      - ops
      - docker
      - monitoring
    protectedDomains:
      - deploy
      - ci
    wipCap: 2

# Lane definitions for ready-queue engine.
# Each lane groups agents into a work stream with floor + WIP controls.
# readyFloor — minimum unblocked todo tasks per agent before sweeper fires
# wipLimit   — max simultaneous doing tasks per agent (/tasks/next enforces this)
lanes:
  - name: engineering
    agents: [agent-1]
    readyFloor: 2
    wipLimit: 2

  - name: design
    agents: [agent-2]
    readyFloor: 1
    wipLimit: 1

  - name: operations
    agents: [agent-3]
    readyFloor: 1
    wipLimit: 2
